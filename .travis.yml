language: python
python:
  - "2.7"
  - "3.6"
cache: pip
services:
  - postgresql
  - rabbitmq
addons:
  postgresql: "9.5"
install:
  - pip install -U pip wheel setuptools
  - pip install git+https://github.com/aiidateam/aiida_core#egg=aiida_core
  - pip install git+https://github.com/greschd/aiida-tools#egg=aiida_tools
  - pip install git+https://github.com/greschd/aiida_pytest@develop#egg=aiida_pytest
  - pip install .[dev]
env:
  - TEST_TYPE="tests"
  - TEST_TYPE="pre-commit"
script:
  - ./.travis-data/test_script.sh
